# Generated by Django 4.2.1 on 2023-08-17 22:03

import django.db.models.deletion
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):
    initial = True

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name="Area",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "name",
                    models.CharField(
                        max_length=64, unique=True, verbose_name="name"
                    ),
                ),
            ],
            options={
                "verbose_name": "area",
                "verbose_name_plural": "areas",
            },
        ),
        migrations.CreateModel(
            name="Bank",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("name", models.CharField(max_length=64, unique=True)),
            ],
        ),
        migrations.CreateModel(
            name="Consultant",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "given_name",
                    models.CharField(max_length=64, verbose_name="given name"),
                ),
                (
                    "first_surname",
                    models.CharField(
                        max_length=64, verbose_name="first surname"
                    ),
                ),
                (
                    "second_surname",
                    models.CharField(
                        blank=True,
                        max_length=64,
                        verbose_name="second surname",
                    ),
                ),
                (
                    "area",
                    models.ManyToManyField(
                        related_name="consultant",
                        to="rrgg.area",
                        verbose_name="area",
                    ),
                ),
            ],
            options={
                "verbose_name": "consultant",
                "verbose_name_plural": "consultants",
            },
        ),
        migrations.CreateModel(
            name="Customer",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "given_name",
                    models.CharField(max_length=64, verbose_name="given name"),
                ),
                (
                    "first_surname",
                    models.CharField(
                        max_length=64, verbose_name="first surname"
                    ),
                ),
                (
                    "second_surname",
                    models.CharField(
                        blank=True,
                        max_length=64,
                        verbose_name="second surname",
                    ),
                ),
                (
                    "document_number",
                    models.CharField(
                        max_length=32,
                        unique=True,
                        verbose_name="document number",
                    ),
                ),
                ("birthdate", models.DateField(verbose_name="birthdate")),
                (
                    "phone_number",
                    models.CharField(
                        max_length=32, verbose_name="phone number"
                    ),
                ),
                (
                    "email",
                    models.EmailField(max_length=64, verbose_name="email"),
                ),
            ],
        ),
        migrations.CreateModel(
            name="InsuranceVehicle",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "name",
                    models.CharField(
                        max_length=64, unique=True, verbose_name="name"
                    ),
                ),
                (
                    "logo",
                    models.ImageField(
                        blank=True,
                        null=True,
                        upload_to="insurance_vehicle_images/",
                        verbose_name="logo",
                    ),
                ),
            ],
            options={
                "verbose_name": "vehicle insurance",
                "verbose_name_plural": "vehicle insurance",
            },
        ),
        migrations.CreateModel(
            name="InsuranceVehicleRatio",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "tax",
                    models.DecimalField(
                        decimal_places=2,
                        max_digits=10,
                        verbose_name="tax (igv)",
                    ),
                ),
                (
                    "emission_right",
                    models.DecimalField(
                        decimal_places=2,
                        max_digits=10,
                        verbose_name="emission right",
                    ),
                ),
                ("fee", models.PositiveIntegerField(null=True)),
                ("direct_debit", models.PositiveIntegerField(null=True)),
                (
                    "created",
                    models.DateTimeField(auto_now_add=True, unique=True),
                ),
                (
                    "insurance_vehicle",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.PROTECT,
                        related_name="ratios",
                        to="rrgg.insurancevehicle",
                    ),
                ),
            ],
        ),
        migrations.CreateModel(
            name="IssuanceInsuranceStatus",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "name",
                    models.CharField(
                        max_length=64, unique=True, verbose_name="name"
                    ),
                ),
            ],
            options={
                "verbose_name": "issuance insurance status",
                "verbose_name_plural": "issuance insurance status",
            },
        ),
        migrations.CreateModel(
            name="IssuanceInsuranceVehicle",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "number_registry",
                    models.CharField(
                        max_length=64, verbose_name="number registry"
                    ),
                ),
                (
                    "issuance_date",
                    models.DateTimeField(verbose_name="issuance_date"),
                ),
                (
                    "initial_validity",
                    models.DateTimeField(verbose_name="initial_validity"),
                ),
                (
                    "final_validity",
                    models.DateTimeField(verbose_name="final_validity"),
                ),
                (
                    "comment",
                    models.TextField(null=True, verbose_name="comment"),
                ),
                (
                    "consultant_new_sale_rate",
                    models.DecimalField(
                        decimal_places=2,
                        max_digits=10,
                        verbose_name="consultant new sale rate",
                    ),
                ),
                ("created", models.DateTimeField(auto_now_add=True)),
                (
                    "consultant_registrar",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.PROTECT,
                        related_name="issuance_insurance_vehicles_registered",
                        to="rrgg.consultant",
                        verbose_name="registrar",
                    ),
                ),
                (
                    "consultant_seller",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.PROTECT,
                        related_name="issuance_insurance_vehicles_sold",
                        to="rrgg.consultant",
                        verbose_name="seller",
                    ),
                ),
            ],
            options={
                "verbose_name": "issuance insurance vehicle",
                "verbose_name_plural": "issues insurance vehicle",
            },
        ),
        migrations.CreateModel(
            name="Owner",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "given_name",
                    models.CharField(max_length=64, verbose_name="given name"),
                ),
                (
                    "first_surname",
                    models.CharField(
                        max_length=64, verbose_name="first surname"
                    ),
                ),
                (
                    "second_surname",
                    models.CharField(
                        blank=True,
                        max_length=64,
                        verbose_name="second surname",
                    ),
                ),
                (
                    "document_number",
                    models.CharField(
                        max_length=32,
                        unique=True,
                        verbose_name="document number",
                    ),
                ),
                ("birthdate", models.DateField(verbose_name="birthdate")),
                (
                    "phone_number",
                    models.CharField(
                        max_length=32, verbose_name="phone number"
                    ),
                ),
                (
                    "email",
                    models.EmailField(max_length=64, verbose_name="email"),
                ),
            ],
        ),
        migrations.CreateModel(
            name="QuotationInsuranceVehicle",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "insured_amount",
                    models.PositiveIntegerField(verbose_name="insured amount"),
                ),
                ("created", models.DateTimeField(auto_now_add=True)),
                (
                    "consultant_registrar",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.PROTECT,
                        related_name="quotation_insurance_vehicles_registered",
                        to="rrgg.consultant",
                        verbose_name="registrar",
                    ),
                ),
                (
                    "consultant_seller",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.PROTECT,
                        related_name="quotation_insurance_vehicles_sold",
                        to="rrgg.consultant",
                        verbose_name="seller",
                    ),
                ),
                (
                    "customer",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.PROTECT,
                        related_name="quotation_insurance_vehicles",
                        to="rrgg.customer",
                        verbose_name="customer",
                    ),
                ),
            ],
            options={
                "verbose_name": "vehicle insurance quotation",
                "verbose_name_plural": "vehicle insurance quotations",
            },
        ),
        migrations.CreateModel(
            name="Role",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "name",
                    models.CharField(
                        max_length=64, unique=True, verbose_name="name"
                    ),
                ),
            ],
            options={
                "verbose_name": "role",
                "verbose_name_plural": "roles",
            },
        ),
        migrations.CreateModel(
            name="UseType",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("name", models.CharField(max_length=64, unique=True)),
            ],
        ),
        migrations.CreateModel(
            name="Vehicle",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "brand",
                    models.CharField(max_length=64, verbose_name="brand"),
                ),
                (
                    "vehicle_model",
                    models.CharField(max_length=64, verbose_name="model"),
                ),
                (
                    "plate",
                    models.CharField(
                        max_length=64, unique=True, verbose_name="plate"
                    ),
                ),
                (
                    "fabrication_year",
                    models.PositiveIntegerField(
                        verbose_name="fabrication year"
                    ),
                ),
                (
                    "engine",
                    models.CharField(
                        max_length=64, verbose_name="engine number"
                    ),
                ),
                (
                    "chassis",
                    models.CharField(
                        max_length=64, verbose_name="chassis number"
                    ),
                ),
                (
                    "seat_number",
                    models.PositiveIntegerField(verbose_name="seat number"),
                ),
                (
                    "has_gps",
                    models.BooleanField(
                        default=False, verbose_name="has gps?"
                    ),
                ),
                (
                    "has_endorsee",
                    models.BooleanField(
                        default=False, verbose_name="has endorsee?"
                    ),
                ),
                (
                    "endorsee_bank",
                    models.ForeignKey(
                        null=True,
                        on_delete=django.db.models.deletion.PROTECT,
                        to="rrgg.bank",
                        verbose_name="endorsee bank",
                    ),
                ),
                (
                    "use_type",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.PROTECT,
                        related_name="use_type",
                        to="rrgg.usetype",
                        verbose_name="usage",
                    ),
                ),
            ],
            options={
                "verbose_name": "vehicle",
                "verbose_name_plural": "vehicles",
            },
        ),
        migrations.CreateModel(
            name="IssuanceInsuranceVehicleEndorsement",
            fields=[
                (
                    "issuanceinsurancevehicle_ptr",
                    models.OneToOneField(
                        auto_created=True,
                        on_delete=django.db.models.deletion.CASCADE,
                        parent_link=True,
                        primary_key=True,
                        serialize=False,
                        to="rrgg.issuanceinsurancevehicle",
                    ),
                ),
                (
                    "commission",
                    models.PositiveIntegerField(
                        null=True, verbose_name="commission"
                    ),
                ),
            ],
            bases=("rrgg.issuanceinsurancevehicle",),
        ),
        migrations.CreateModel(
            name="IssuanceInsuranceVehiclePolicy",
            fields=[
                (
                    "issuanceinsurancevehicle_ptr",
                    models.OneToOneField(
                        auto_created=True,
                        on_delete=django.db.models.deletion.CASCADE,
                        parent_link=True,
                        primary_key=True,
                        serialize=False,
                        to="rrgg.issuanceinsurancevehicle",
                    ),
                ),
                (
                    "description",
                    models.CharField(
                        max_length=64, null=True, verbose_name="description"
                    ),
                ),
            ],
            bases=("rrgg.issuanceinsurancevehicle",),
        ),
        migrations.CreateModel(
            name="VehicleOwnerShip",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "customer",
                    models.ForeignKey(
                        null=True,
                        on_delete=django.db.models.deletion.PROTECT,
                        related_name="ownership",
                        to="rrgg.customer",
                    ),
                ),
                (
                    "owner",
                    models.ForeignKey(
                        null=True,
                        on_delete=django.db.models.deletion.PROTECT,
                        related_name="ownership",
                        to="rrgg.owner",
                    ),
                ),
                (
                    "vehicle",
                    models.OneToOneField(
                        on_delete=django.db.models.deletion.PROTECT,
                        related_name="ownership",
                        to="rrgg.vehicle",
                        verbose_name="vehicle",
                    ),
                ),
            ],
        ),
        migrations.CreateModel(
            name="QuotationInsuranceVehiclePremium",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "amount",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        max_digits=10,
                        verbose_name="net premium",
                    ),
                ),
                (
                    "created",
                    models.DateTimeField(
                        auto_now_add=True,
                        unique=True,
                        verbose_name="created at",
                    ),
                ),
                (
                    "insurance_vehicle_ratio",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.PROTECT,
                        related_name="quotation_insurance_vehicle_premiums",
                        to="rrgg.insurancevehicleratio",
                    ),
                ),
                (
                    "quotation_insurance_vehicle",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.PROTECT,
                        related_name="premiums",
                        to="rrgg.quotationinsurancevehicle",
                    ),
                ),
            ],
        ),
        migrations.AddField(
            model_name="quotationinsurancevehicle",
            name="vehicle",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.PROTECT,
                related_name="quotation_insurance_vehicles",
                to="rrgg.vehicle",
                verbose_name="vehicle",
            ),
        ),
        migrations.CreateModel(
            name="IssuanceInsuranceVehicleDocument",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("file", models.FileField(upload_to="documents/")),
                ("created", models.DateTimeField(auto_now_add=True)),
                (
                    "issuance",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="documents",
                        to="rrgg.issuanceinsurancevehicle",
                    ),
                ),
            ],
        ),
        migrations.AddField(
            model_name="issuanceinsurancevehicle",
            name="quotation_vehicle_premium",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.PROTECT,
                related_name="issuance",
                to="rrgg.quotationinsurancevehiclepremium",
            ),
        ),
        migrations.AddField(
            model_name="issuanceinsurancevehicle",
            name="status",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.PROTECT,
                related_name="issuances",
                to="rrgg.issuanceinsurancestatus",
            ),
        ),
        migrations.CreateModel(
            name="ConsultantRate",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "new_sale",
                    models.DecimalField(
                        decimal_places=2,
                        max_digits=10,
                        verbose_name="new sale",
                    ),
                ),
                (
                    "renewal",
                    models.DecimalField(
                        decimal_places=2, max_digits=10, verbose_name="renewal"
                    ),
                ),
                ("created", models.DateTimeField(auto_now_add=True)),
                (
                    "consultant",
                    models.OneToOneField(
                        on_delete=django.db.models.deletion.PROTECT,
                        related_name="commission_rate",
                        to="rrgg.consultant",
                        verbose_name="consultant",
                    ),
                ),
            ],
        ),
        migrations.CreateModel(
            name="ConsultantMembership",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "consultant",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.PROTECT,
                        related_name="membership",
                        to="rrgg.consultant",
                    ),
                ),
                (
                    "user",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.PROTECT,
                        related_name="consultant_membership",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
        ),
        migrations.AddField(
            model_name="consultant",
            name="role",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.PROTECT,
                related_name="consultant",
                to="rrgg.role",
                verbose_name="role",
            ),
        ),
        migrations.CreateModel(
            name="CollectionInsuranceVehicle",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("expiration_date", models.DateTimeField()),
                ("payment_date", models.DateTimeField(null=True)),
                (
                    "payment_receipt",
                    models.CharField(max_length=64, null=True),
                ),
                ("issue", models.CharField(max_length=64)),
                (
                    "amount",
                    models.DecimalField(
                        decimal_places=2, max_digits=10, null=True
                    ),
                ),
                ("created", models.DateTimeField(auto_now_add=True)),
                (
                    "issuance_vehicle",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.PROTECT,
                        related_name="collections",
                        to="rrgg.issuanceinsurancevehicle",
                    ),
                ),
            ],
        ),
    ]
